(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{JSdX:function(t,e,n){"use strict";n.r(e),n.d(e,"EmpListModule",(function(){return R}));var i=n("ofXK"),a=n("tyNb"),o=n("fXoL");let c=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},providers:[i.d],imports:[[i.b]]}),t})();var r=n("48OB");function s(t,e){if(1&t){const t=o.Sb();o.Rb(0,"div",13),o.Zb("click",(function(){o.jc(t);const n=e.index;return o.bc(2).jumToThisPage(n+1)})),o.nc(1),o.Qb()}if(2&t){const t=e.index;o.fc("id",t+1),o.Cb(1),o.oc(t+1)}}function l(t,e){if(1&t){const t=o.Sb();o.Rb(0,"nav",10),o.Rb(1,"div",11),o.Zb("click",(function(){return o.jc(t),o.bc().jumpToFirst()})),o.nc(2,"\xab"),o.Qb(),o.Rb(3,"div",11),o.Zb("click",(function(){return o.jc(t),o.bc().previous()})),o.nc(4,"\u2039"),o.Qb(),o.mc(5,s,2,2,"div",12),o.Rb(6,"div",11),o.Zb("click",(function(){return o.jc(t),o.bc().next()})),o.nc(7,"\u203a"),o.Qb(),o.Rb(8,"div",11),o.Zb("click",(function(){return o.jc(t),o.bc().jumpToLast()})),o.nc(9,"\xbb"),o.Qb(),o.Qb()}if(2&t){const t=o.bc();o.Cb(5),o.ec("ngForOf",t.totalDivisions)}}const b=["*"];let d=(()=>{class t{constructor(){this.itemFromTo=new o.n,this.searchString=new o.n,this.initialLoad=!0}ngOnInit(){}ngAfterViewInit(){document.getElementById("rows").value=this.numberOfRows,this.valueChanged(this.numberOfRows)}valueChanged(t){this.numberOfRows=t,this.numberOfButtons(Number(t)),console.log(t)}numberOfButtons(t){this.pageNumberSelected&&document.getElementById(String(this.pageNumberSelected))&&document.getElementById(String(this.pageNumberSelected)).classList.remove("active");const e=Math.ceil(this.totalRecordsSize/t);setTimeout((function(){this.totalDivisions=new Array(e),this.itemFromTo.emit([0,t]),this.pageNumberSelected=1,setTimeout(()=>{document.getElementById("1").classList.add("active")},0)}).bind(this),0)}buttonsAfterFilter(t){this.pageNumberSelected&&document.getElementById(String(this.pageNumberSelected))&&document.getElementById(String(this.pageNumberSelected)).classList.remove("active");const e=document.getElementById("rows").value,n=Math.ceil(t/Number(e));setTimeout((function(){this.totalDivisions=new Array(n),this.pageNumberSelected=1,setTimeout(()=>{document.getElementById("1")&&document.getElementById("1").classList.add("active")},0)}).bind(this),0)}jumpToFirst(){1!==this.pageNumberSelected&&this.jumToThisPage(1)}previous(){1!==this.pageNumberSelected&&this.jumToThisPage(this.pageNumberSelected-1)}next(){this.pageNumberSelected!==this.totalDivisions.length&&this.jumToThisPage(this.pageNumberSelected+1)}jumpToLast(){this.pageNumberSelected!==this.totalDivisions.length&&this.jumToThisPage(this.totalDivisions.length)}jumToThisPage(t){document.getElementById(String(this.pageNumberSelected)).classList.remove("active"),this.pageNumberSelected=t,document.getElementById(String(this.pageNumberSelected)).classList.add("active"),this.itemFromTo.emit([(t-1)*Number(this.numberOfRows),t*Number(this.numberOfRows)])}searchFilter(t){this.searchString.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-pagination-container"]],inputs:{totalRecordsSize:"totalRecordsSize",numberOfRows:"numberOfRows"},outputs:{itemFromTo:"itemFromTo",searchString:"searchString"},ngContentSelectors:b,decls:21,vars:1,consts:[[1,"container"],["type","text",3,"keyup"],["input",""],["name","rows","id","rows",3,"change"],["value","5"],["value","10"],["value","15"],["value","20"],[1,"container-bottom"],["class","pagination",4,"ngIf"],[1,"pagination"],[3,"click"],[3,"id","click",4,"ngFor","ngForOf"],[3,"id","click"]],template:function(t,e){if(1&t){const t=o.Sb();o.dc(),o.Rb(0,"div",0),o.Rb(1,"section"),o.Rb(2,"label"),o.nc(3,"Search:"),o.Qb(),o.Rb(4,"input",1,2),o.Zb("keyup",(function(){o.jc(t);const n=o.ic(5);return e.searchFilter([n.value,e.numberOfRows])})),o.Qb(),o.Qb(),o.Rb(6,"section"),o.Rb(7,"label"),o.nc(8,"Number of records:"),o.Qb(),o.Rb(9,"select",3),o.Zb("change",(function(t){return e.valueChanged(t.target.value)})),o.Rb(10,"option",4),o.nc(11,"5"),o.Qb(),o.Rb(12,"option",5),o.nc(13,"10"),o.Qb(),o.Rb(14,"option",6),o.nc(15,"15"),o.Qb(),o.Rb(16,"option",7),o.nc(17,"20"),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.cc(18),o.Rb(19,"div",8),o.mc(20,l,10,1,"nav",9),o.Qb()}2&t&&(o.Cb(20),o.ec("ngIf",e.totalDivisions&&e.totalDivisions.length>0))},directives:[i.j,i.i],styles:[".container[_ngcontent-%COMP%]{margin:4px;display:flex}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{width:95%;margin:2px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:4px}.pagination[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:1px solid #000;color:#000;float:left;padding:8px 16px;text-decoration:none}.pagination[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.pagination[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}"]}),t})(),u=(()=>{class t{constructor(t){this.datePipe=t}mutiValueCombination(t,e,n,i){let a=[];return a=e.map(e=>this.getValue(t,e)),"date"===n?this.datePipe.transform(a[0],"MM-dd-yyyy"):i?i(a[0]):a.join(" ")}getValue(t,e){const n=[...e];if(t[e[0]]){if(e.length>1){const i=t[e[0]];return n.shift(),this.getValue(i,n)}return t[e[0]]+""}}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(i.d))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();function m(t,e){if(1&t&&(o.Rb(0,"th"),o.nc(1),o.Qb()),2&t){const t=e.$implicit;o.Cb(1),o.pc(" ",t.heading," ")}}function g(t,e){if(1&t&&(o.Rb(0,"td"),o.nc(1),o.Qb()),2&t){const t=e.$implicit,n=o.bc().$implicit,i=o.bc(2);o.Cb(1),o.pc(" ",i.iTableSharedFunctionService.mutiValueCombination(n,t.contentArray,t.type,t.callMethod)," ")}}function p(t,e){if(1&t&&(o.Rb(0,"tr"),o.mc(1,g,2,1,"td",3),o.Qb()),2&t){const t=o.bc(2);o.Cb(1),o.ec("ngForOf",t.settings.fieldDefinition)}}function f(t,e){if(1&t&&(o.Rb(0,"table",2),o.Rb(1,"tr"),o.mc(2,m,2,1,"th",3),o.Qb(),o.mc(3,p,2,1,"tr",3),o.Qb()),2&t){const t=o.bc();o.Cb(2),o.ec("ngForOf",t.settings.fieldDefinition),o.Cb(1),o.ec("ngForOf",t.tableData)}}function h(t,e){1&t&&(o.Rb(0,"div",4),o.nc(1," No data to display\n"),o.Qb())}let y=(()=>{class t{constructor(t){this.iTableSharedFunctionService=t,console.log(this.settings)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(u))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-table-container"]],inputs:{tableData:"tableData",settings:"settings"},decls:2,vars:2,consts:[["class","table-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"table-data"],[4,"ngFor","ngForOf"],[1,"no-data"]],template:function(t,e){1&t&&(o.mc(0,f,4,2,"table",0),o.mc(1,h,2,0,"div",1)),2&t&&(o.ec("ngIf",e.settings&&e.tableData),o.Cb(1),o.ec("ngIf",e.tableData&&0===e.tableData.length))},directives:[i.j,i.i],styles:[".table-data[_ngcontent-%COMP%]{font-family:Trebuchet MS,Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}.table-data[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}.table-data[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-data[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.table-data[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.table-data[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.table-data[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#4caf50;color:#fff}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;margin:8px}"]}),t})();function v(t,e){if(1&t){const t=o.Sb();o.Rb(0,"app-pagination-container",1),o.Zb("itemFromTo",(function(e){return o.jc(t),o.bc().arrayRange(e)}))("searchString",(function(e){return o.jc(t),o.bc().filterData(e)})),o.Nb(1,"app-table-container",2),o.Qb()}if(2&t){const t=o.bc();o.ec("totalRecordsSize",t.tableData.length)("numberOfRows","5"),o.Cb(1),o.ec("tableData",t.tempDataTable)("settings",t.settings)}}let S=(()=>{class t{constructor(t){this.iTableSharedFunctionService=t}ngOnChanges(t){console.log(t),t&&this.startEndArrayState&&this.tableData&&(this.filterTableData=null,this.arrayRange(this.startEndArrayState,"fromFilter"))}ngOnInit(){}ngAfterViewInit(){}arrayRange(t,e){this.startEndArrayState=t,console.log(this.tableData),this.filterTableData?(console.log("from filter"),this.tempDataTable=this.filterTableData.filter((e,n)=>n>=t[0]&&n<t[1]),"fromFilter"===e&&this.containerComponent.buttonsAfterFilter(this.filterTableData.length)):(this.tempDataTable=this.tableData.filter((e,n)=>n>=t[0]&&n<t[1]),"fromFilter"===e&&this.containerComponent.buttonsAfterFilter(this.tableData.length))}filterData(t){if(console.log(t),""!==t[0]){const e=this.settings.fieldDefinition;let n="";const i=t[0].toLowerCase();this.filterTableData=this.tableData.filter(t=>e.filter(e=>{if(n=this.iTableSharedFunctionService.mutiValueCombination(t,e.contentArray),n.toLowerCase().includes(i))return!0}).length>0),this.arrayRange(this.startEndArrayState,"fromFilter")}else this.filterTableData=null,this.arrayRange(this.startEndArrayState,"fromFilter")}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(u))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-i-table"]],viewQuery:function(t,e){var n;1&t&&o.rc(d,!0),2&t&&o.hc(n=o.ac())&&(e.containerComponent=n.first)},inputs:{tableData:"tableData",settings:"settings"},features:[o.Bb([u]),o.Ab],decls:1,vars:1,consts:[[3,"totalRecordsSize","numberOfRows","itemFromTo","searchString",4,"ngIf"],[3,"totalRecordsSize","numberOfRows","itemFromTo","searchString"],[3,"tableData","settings"]],template:function(t,e){1&t&&o.mc(0,v,2,4,"app-pagination-container",0),2&t&&o.ec("ngIf",e.tableData)},directives:[i.j,d,y],styles:[""]}),t})();function C(t,e){if(1&t&&(o.Rb(0,"option",7),o.nc(1),o.Qb()),2&t){const t=e.$implicit;o.fc("value",t.id),o.Cb(1),o.qc(" ",t.id," "," "+t.empGeneral.firstName," "," "+t.empGeneral.lastName," ")}}const O=[{path:"",component:(()=>{class t{constructor(t,e){this.employeeFetchDetailsService=t,this.router=e,this.employeesSettings={fieldDefinition:[{heading:"id",type:"string",contentArray:[["id"]]},{heading:"First name",type:"string",contentArray:[["empGeneral","firstName"]]},{heading:"Last name",type:"string",contentArray:[["empGeneral","lastName"]]},{heading:"Full Name",type:"string",contentArray:[["empGeneral","firstName"],["empGeneral","lastName"]]},{heading:"D.O.B",type:"date",contentArray:[["empGeneral","dob"]]},{heading:"Age",type:"age",contentArray:[["empGeneral","dob"]],callMethod:t=>{if(t){const e=new Date(t),n=Date.now()-e.getTime(),i=new Date(n);return Math.abs(i.getUTCFullYear()-1970)}}}]},this.fetchEmployee()}ngOnInit(){}fetchEmployee(){this.employeeFetchDetailsService.getEmployees().subscribe(t=>{this.employees=t.sort((t,e)=>Number(t.id)-Number(e.id))})}addEmployee(){this.router.navigate(["/routing/emp-details"],{queryParams:{orderType:"add"}})}updateEmployee(t){this.router.navigate(["/routing/emp-details"],{queryParams:{orderType:"update",id:t}})}deleteEmployee(t){this.employeeFetchDetailsService.deleteEmployee(t).subscribe(t=>{console.log(t),this.fetchEmployee()})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.a),o.Mb(a.b))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-emp-list"]],decls:12,vars:3,consts:[[1,"emp-list-update-delete"],["name","emp-list"],["empList",""],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[1,"emp-list-add",3,"click"],[3,"tableData","settings"],[3,"value"]],template:function(t,e){if(1&t){const t=o.Sb();o.Rb(0,"div",0),o.Rb(1,"select",1,2),o.mc(3,C,2,4,"option",3),o.Qb(),o.Rb(4,"button",4),o.Zb("click",(function(){o.jc(t);const n=o.ic(2);return e.updateEmployee(n.value)})),o.nc(5," Update Employee "),o.Qb(),o.Rb(6,"button",4),o.Zb("click",(function(){o.jc(t);const n=o.ic(2);return e.deleteEmployee(n.value)})),o.nc(7," Delete Employee "),o.Qb(),o.Qb(),o.Rb(8,"button",5),o.Zb("click",(function(){return e.addEmployee()})),o.nc(9," Add Employee "),o.Qb(),o.nc(10," Employee Table:\n"),o.Nb(11,"app-i-table",6)}2&t&&(o.Cb(3),o.ec("ngForOf",e.employees),o.Cb(8),o.ec("tableData",e.employees)("settings",e.employeesSettings))},directives:[i.i,S],styles:["button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:8px 16px;text-align:center;text-decoration:none;font-size:12px;margin:4px 2px;transition-duration:.4s;cursor:pointer}.emp-list-update-delete[_ngcontent-%COMP%]{display:flex;align-items:center}.emp-list-add[_ngcontent-%COMP%]{width:100%}"]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[i.b,c,a.c.forChild(O)]]}),t})()}}]);